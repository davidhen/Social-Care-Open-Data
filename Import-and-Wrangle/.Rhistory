cex.axis=.7, gap=3, digits = 0, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc12missing <- aggr(sc12, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc12),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc12missing <- aggr(sc12, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc12),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc12missing <- aggr(sc12, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc12),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc12missing <- aggr(sc12, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc12),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
?aggr
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),varheight = TRUE,
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = FALSE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = FALSE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Missing Data", "Pattern"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = FALSE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Missing Data", "Pattern"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = FALSE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Histogram of Missing Data", "Pattern"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = FALSE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Histogram of Missing Data", "Pattern"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = FALSE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11), cex.lab=1.5,
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Histogram of Missing Data", "Pattern"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = FALSE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11), cex.lab=1.5,
cex.axis=1.5, gap=3, digits = 2, bars = FALSE,
ylab=c("Histogram of Missing Data", "Pattern"))
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = FALSE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11), cex.lab=1.5,
cex.axis=0.6, gap=3, digits = 2, bars = FALSE,
ylab=c("Histogram of Missing Data", "Pattern"), missings=FALSE)
sc12missing <- aggr(sc12, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc12), cex.lab=1.5,
cex.axis=0.6, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern"), missings=FALSE)
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11), cex.lab=1.5,
cex.axis=0.6, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern"), missings=FALSE)
34491+28288+26237+13287+4530+4470+3040+1822+951+1008+514+394
apply(nohmcare_sc11, 2, missing)
sc11missing$missings$Variable
sc11missing$missings$AgeGRP
sc11missing$missings$Count
apply(nohmcare_sc12, 2, missing)
nohmcare_sc11missing <- aggr(nohmcare_sc11, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(nohmcare_sc11), cex.lab=1.5, cex.axis=0.6,
gap=3, digits = 2, bars = FALSE, ylab=c("Pattern"))
nohmcare_sc11missing <- aggr(nohmcare_sc11, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(nohmcare_sc11), cex.lab=1.5, cex.axis=0.6,
gap=3, digits = 2, bars = FALSE, ylab=c("Pattern"))
nohmcare_sc12missing <- aggr(nohmcare_sc12, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE, labels=names(sc12),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
apply(hmcare_sc12, 2, missing)
apply(hmcare_sc11, 2, missing)
apply(hmcare_sc12, 2, missing)
hmcare_sc11missing <- aggr(hmcare_sc11, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcaresc11), cex.axis=.7, gap=3, digits = 2,
bars = FALSE, lab=c("Pattern of missing data"))
hmcare_sc11missing <- aggr(hmcare_sc11, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcaresc11), cex.axis=.7, gap=3, digits = 2,
bars = FALSE, lab=c("Pattern of missing data"))
hmcare_sc11missing <- aggr(hmcare_sc11, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcare_sc11), cex.axis=.7, gap=3, digits = 2,
bars = FALSE, lab=c("Pattern of missing data"))
hmcare_sc12missing <- aggr(hmcare_sc12, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcare_sc10),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
library(dplyr)
library(mice)
library(VIM)
library(dplyr)
library(mice)
library(VIM)
hmcare2010 <- read.csv("2010.csv")
hmcare2011 <- read.csv("2011.csv")
hmcare2012 <- read.csv("2012.csv")
glimpse(hmcare2010)
glimpse(hmcare2011)
glimpse(hmcare2012)
LAlevels <- c("100", "110", "120", "130", "150", "170","180","190","200", "210", "220",
"230", "235", "240", "250", "260","270", "280", "290", "300", "310", "320",
"330", "340","350", "355", "360", "370", "380", "390", "395", "400")
LAlabels <- c("Aberdeen City", "Aberdeenshire", "Angus", "Argyll & Bute", "Clackmannanshire",
"Dumfries & Galloway", "Dundee City", "East Ayrshie",
"East Dunbartonshire","East Lothian", "East Renfrewshire",
"Edinburgh, City of", "Eilean Siar", "Falkirk", "Fife", "Glasgow City",
"Highland","Inverclyde", "Midlothian", "Moray", "North Ayrshire",
"North Lanarkshire", "Orkney Islands","Perth & Kinross", "Renfrewshire",
"Scottish Borders", "Shetland Islands","South Ayrshire", "South Lanarkshire",
"Stirling","West Dunbartonshire","West Lothian")
hmcare2010$LAcode <- factor(hmcare2010$LAcode,
levels = LAlevels,
labels = LAlabels)
hmcare2011$LAcode <- factor(hmcare2011$LAcode,
levels = LAlevels,
labels = LAlabels)
hmcare2012$LAcode <- factor(hmcare2012$LAcode,
levels = LAlevels,
labels = LAlabels)
hmcare2010$clientID <- as.character(hmcare2010$clientID)
hmcare2011$clientID <- as.character(hmcare2011$clientID)
hmcare2012$clientID <- as.character(hmcare2012$clientID)
AgeGRPlevels = c("1", "2", "3", "4", "5")
AgeGRPlabels <- c("18-<65", "65-<75", "75-<85", "85+", "Unknown")
#2010
hmcare2010$AgeGRP <- factor(hmcare2010$AgeGRP,
levels = AgeGRPlevels,
labels = AgeGRPlabels)
hmcare2010$AgeGRP[hmcare2010$AgeGRP == "Unknown"] <- NA #Convert Missing data to NA
#2011
hmcare2011$AgeGRP <- factor(hmcare2011$AgeGRP,
levels = AgeGRPlevels,
labels = AgeGRPlabels)
hmcare2011$AgeGRP[hmcare2011$AgeGRP == "Unknown"] <- NA #Convert missing dsta to NA
#2012
hmcare2012$AgeGRP <- factor(hmcare2012$AgeGRP,
levels = AgeGRPlevels,
labels = AgeGRPlabels)
hmcare2012$AgeGRP[hmcare2012$AgeGRP == "Unknown"] <- NA #Convert Missing data to NA
ClientGRPlevels <- c("1", "2", "3", "4", "5", "99", ".")
CLientGRPlabels <- c("Dementia & Mental Health", "Learning Disability",
"Physical Disability", "Infirmity due to Age","Other",
"Not Known", "Blank")
#2010
hmcare2010$ClientGRP <- factor(hmcare2010$ClientGRP,
levels = ClientGRPlevels,
labels = CLientGRPlabels)
hmcare2010$ClientGRP[hmcare2010$ClientGRP == "Not Known"] <- NA #Covert missin data
hmcare2010$ClientGRP[hmcare2010$ClientGRP == "Blank"] <- NA     #to NA
#2011
hmcare2011$ClientGRP <- factor(hmcare2011$ClientGRP,
levels = ClientGRPlevels,
labels = CLientGRPlabels)
hmcare2011$ClientGRP[hmcare2011$ClientGRP == "Not Known"] <- NA #Covert missin data
hmcare2011$ClientGRP[hmcare2011$ClientGRP == "Blank"] <- NA     #to NA
#2012
hmcare2012$ClientGRP <- factor(hmcare2012$ClientGRP,
levels = ClientGRPlevels,
labels = CLientGRPlabels)
hmcare2012$ClientGRP[hmcare2012$ClientGRP == "Not Known"] <- NA #Covert missin data
hmcare2012$ClientGRP[hmcare2012$ClientGRP == "Blank"] <- NA     #to NA
#2010
hmcare2010$GenderISO <- factor(hmcare2010$GenderISO,
levels = c("1", "2", "."),
labels = c("Male", "Female", "Blank"))
hmcare2010$GenderISO[hmcare2010$GenderISO == "Blank"] <- NA #Convert missing to NA
#2011
hmcare2011$GenderISO <- factor(hmcare2011$GenderISO,
levels = c("1", "2", "."),
labels = c("Male", "Female", "Blank"))
hmcare2011$GenderISO[hmcare2011$GenderISO == "Blank"] <- NA #Convert missing to NA
#2012
hmcare2012$GenderISO <- factor(hmcare2012$GenderISO,
levels = c("1", "2", "."),
labels = c("Male", "Female", "Blank"))
hmcare2012$GenderISO[hmcare2012$GenderISO == "Blank"] <- NA #Convert missing to NA
hmcare2010$meals <- factor(hmcare2010$meals,
levels = c("0", "1"),
labels = c("No meals", "Meals"))
hmcare2011$meals <- factor(hmcare2011$meals,
levels = c("0", "1"),
labels = c("No meals", "Meals"))
hmcare2012$meals <- factor(hmcare2012$meals,
levels = c("0", "1"),
labels = c("No meals", "Meals"))
#Slightly different coding from metadata to make Graph labels more readable
bandHRS_levels <- c("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12")
bandHRS_labels <- c("Zero", "<1", "1-2", "2-4", "4-6","6-8", "8-10", "10-15", "15-20",
"20-30","30-40", "40-50", "over50")
hmcare2010$bandHRSTT <- factor(hmcare2010$bandHRSTT,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2011$bandHRSTT <- factor(hmcare2011$bandHRSTT,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2012$bandHRSTT <- factor(hmcare2012$bandHRSTT,
levels = bandHRS_levels,
labels = bandHRS_labels)
#2010
hmcare2010$bandHRSLA <- factor(hmcare2010$bandHRSLA,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2010$bandHRSpri <- factor(hmcare2010$bandHRSpri,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2010$bandHRSvol <- factor(hmcare2010$bandHRSvol,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2010$bandHRSPC <- factor(hmcare2010$bandHRSPC,
levels = bandHRS_levels,
labels = bandHRS_labels)
#2011
hmcare2011$bandHRSLA <- factor(hmcare2011$bandHRSLA,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2011$bandHRSpri <- factor(hmcare2011$bandHRSpri,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2011$bandHRSvol <- factor(hmcare2011$bandHRSvol,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2011$bandHRSPC <- factor(hmcare2011$bandHRSPC,
levels = bandHRS_levels,
labels = bandHRS_labels)
#2012
hmcare2012$bandHRSLA <- factor(hmcare2012$bandHRSLA,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2012$bandHRSpri <- factor(hmcare2012$bandHRSpri,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2012$bandHRSvol <- factor(hmcare2012$bandHRSvol,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2012$bandHRSPC <- factor(hmcare2012$bandHRSPC,
levels = bandHRS_levels,
labels = bandHRS_labels)
hmcare2010$HCclient <- factor(hmcare2010$HCclient,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2011$HCclient <- factor(hmcare2011$HCclient,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2012$HCclient <- factor(hmcare2012$HCclient,
levels = c("0", "1"),
labels = c("No", "Yes"))
#2011
hmcare2011$telecareonly <- factor(hmcare2011$telecareonly,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2011$communityalarmonly <- factor(hmcare2011$communityalarmonly,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2011$communityandtelecare <- factor(hmcare2011$communityandtelecare,
levels = c("0", "1"),
labels = c("No", "Yes"))
#2012
hmcare2012$telecareonly <- factor(hmcare2012$telecareonly,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2012$communityalarmonly <- factor(hmcare2012$communityalarmonly,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2012$communityandtelecare <- factor(hmcare2012$communityandtelecare,
levels = c("0", "1"),
labels = c("No", "Yes"))
#2010
hmcare2010$LivingArr <- factor(hmcare2010$LivingArr,
levels = c("1", "2", "9"),
labels = c("Lives Alone", "Other", "Not Known"))
hmcare2010$LivingArr[hmcare2010$LivingArr == "Not Known"] <- NA
#2011
hmcare2011$LivingArr <- factor(hmcare2011$LivingArr,
levels = c("1", "2", "9"),
labels = c("Lives Alone", "Other", "Not Known"))
hmcare2011$LivingArr[hmcare2011$LivingArr == "Not Known"] <- NA
#2012
hmcare2012$LivingArr <- factor(hmcare2012$LivingArr,
levels = c("1", "2", "9"),
labels = c("Lives Alone", "Other", "Not Known"))
hmcare2012$LivingArr[hmcare2012$LivingArr == "Not Known"] <- NA
hmcare2010$Staff <- factor(hmcare2010$Staff,
levels = c("0", "1"),
labels = c("Single Staff", "2 or more Staff"))
hmcare2011$Staff <- factor(hmcare2011$Staff,
levels = c("0", "1"),
labels = c("Single Staff", "2 or more Staff"))
hmcare2012$Staff <- factor(hmcare2012$Staff,
levels = c("0", "1"),
labels = c("Single Staff", "2 or more Staff"))
hmcare2010$HousingType_OV <- factor(hmcare2010$HousingType_OV,
levels = c("0", "1", "9"),
labels = c("Mainstream", "Supported Housing",
"Other"))
hmcare2011$HousingType_OV <- factor(hmcare2011$HousingType_OV,
levels = c("0", "1", "9"),
labels = c("Mainstream", "Supported Housing",
"Other"))
hmcare2012$HousingType_OV <- factor(hmcare2012$HousingType_OV,
levels = c("0", "1", "9"),
labels = c("Mainstream", "Supported Housing",
"Other"))
hmcare2010$Laundry_OV <- factor(hmcare2010$Laundry_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2011$Laundry_OV <- factor(hmcare2011$Laundry_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2012$Laundry_OV <- factor(hmcare2012$Laundry_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2010$Shopping_OV <- factor(hmcare2010$Shopping_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2011$Shopping_OV <- factor(hmcare2011$Shopping_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2012$Shopping_OV <- factor(hmcare2012$Shopping_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2010$HousingSupport_OV <- factor(hmcare2010$HousingSupport_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2011$HousingSupport_OV <- factor(hmcare2011$HousingSupport_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2012$HousingSupport_OV <- factor(hmcare2012$HousingSupport_OV,
levels = c("0", "1"),
labels = c("No", "Yes"))
hmcare2010$IoRN_OV <- factor(hmcare2010$IoRN_OV,
levels = c("A", "B", "C", "D", "E", "F", "G", "H", "I"),
labels = c("Low", "LowB", "Medium", "LowD", "MediumE",
"High", "MediumG", "HighH", "HighI"))
hmcare2011$IoRN_OV <- factor(hmcare2011$IoRN_OV,
levels = c("A", "B", "C", "D", "E", "F", "G", "H", "I"),
labels = c("Low", "LowB", "Medium", "LowD", "MediumE",
"High", "MediumG", "HighH", "HighI"))
hmcare2012$IoRN_OV <- factor(hmcare2012$IoRN_OV,
levels = c("A", "B", "C", "D", "E", "F", "G", "H", "I"),
labels = c("Low", "LowB", "Medium", "LowD", "MediumE",
"High", "MediumG", "HighH", "HighI"))
hmcare2012 <- select(hmcare2012, -error, -error1, -HCFlag)
glimpse(hmcare2010)
glimpse(hmcare2011)
glimpse(hmcare2012)
ids2010 <- hmcare2010$clientID  # Create vectors of ClientID for each year
ids2011 <- hmcare2011$clientID
ids2012 <- hmcare2012$clientID
length(c(ids2010, ids2011))     #Calculate length of combined 2010 and 2011 IDs
n_distinct(c(ids2010, ids2011)) #Count distinct values
length(c(ids2010, ids2012))     #Repeat for 2010 and 2012
n_distinct(c(ids2010, ids2012))
length(c(ids2011, ids2012))     #Repeat for 2011 and 2010
n_distinct(c(ids2011, ids2012))
hmcare2010 <-
mutate(hmcare2010, year = as.character("2010"))
hmcare2011 <-
mutate(hmcare2011, year = as.character("2011"))
hmcare2012 <-
mutate(hmcare2012, year = as.character("2012"))
alldata <- full_join(hmcare2011, hmcare2012)
alldata <- full_join(alldata, hmcare2010) %>%
arrange(., year) #arrange data by year.
total_obs <- nrow(hmcare2011) + nrow(hmcare2012) + nrow(hmcare2010) #count total observations
#Is the total equal to total number observation in new dataset?
total_obs == nrow(alldata)
glimpse(alldata)
sc10 <- hmcare2010
sc11 <- hmcare2011
sc12 <- hmcare2012
hmcare_alldata <- alldata %>%
filter(HCclient == "Yes")
nohmcare_alldata <- alldata %>%
filter(HCclient == "No")
hmcare_sc10 <- sc10 %>%
filter(HCclient == "Yes")
nohmcare_sc10 <- sc10 %>%
filter(HCclient == "No")
hmcare_sc11 <- sc11 %>%
filter(HCclient == "Yes")
nohmcare_sc11 <- sc11 %>%
filter(HCclient == "No")
hmcare_sc12 <- sc12 %>%
filter(HCclient == "Yes")
nohmcare_sc12 <- sc12 %>%
filter(HCclient == "No")
sc10 <- hmcare2010
sc11 <- hmcare2011
sc12 <- hmcare2012
rm(hmcare2010)
rm(hmcare2011)
rm(hmcare2012)
save(hmcare_alldata, hmcare_sc10, hmcare_sc11, hmcare_sc12, nohmcare_alldata, nohmcare_sc10, nohmcare_sc11, nohmcare_sc12, sc10, sc11, sc12, alldata, file = "wrangled_datasets")
save(hmcare_alldata, hmcare_sc10, hmcare_sc11, hmcare_sc12, nohmcare_alldata, nohmcare_sc10, nohmcare_sc11, nohmcare_sc12, sc10, sc11, sc12, alldata, file = "wrangled_datasets.RData")
missing <- function(x) {round(sum(is.na(x))/length(x)*100, 2)}
apply(sc10, 2, missing)
sc10missing <- aggr(sc10, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc10),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
apply(nohmcare_sc10, 2, missing)
nohmcare_sc10missing <- aggr(nohmcare_sc10, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE, labels=names(sc10),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
apply(hmcare_sc10, 2, missing)
hmcare_sc10missing <- aggr(hmcare_sc10, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE, labels=names(sc10),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
apply(sc11, 2, missing)
sc11missing <- aggr(sc11, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc11), cex.lab=1.5,
cex.axis=0.6, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern"))
apply(nohmcare_sc11, 2, missing)
nohmcare_sc11missing <- aggr(nohmcare_sc11, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(nohmcare_sc11), cex.lab=1.5, cex.axis=0.6,
gap=3, digits = 2, bars = FALSE, ylab=c("Pattern"))
apply(hmcare_sc11, 2, missing)
hmcare_sc11missing <- aggr(hmcare_sc11, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcare_sc11), cex.axis=.7, gap=3, digits = 2,
bars = FALSE, lab=c("Pattern of missing data"))
apply(sc12, 2, missing)
sc12missing <- aggr(sc12, col=c('navyblue','red'), combined = TRUE, numbers=TRUE,
prop = FALSE, sortVars=TRUE, labels=names(sc12), cex.lab=1.5,
cex.axis=0.6, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern"))
apply(nohmcare_sc12, 2, missing)
nohmcare_sc12missing <- aggr(nohmcare_sc12, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE, labels=names(sc12),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
apply(hmcare_sc12, 2, missing)
hmcare_sc12missing <- aggr(hmcare_sc12, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcare_sc10),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
devtools::session_info()
save.image("C:/Users/hedgi/Google Drive/Uni/Multimorb PhD/Analysis/soc_care_open_data/Import and Wrangle/all_objects.RData")
hmcare_sc12missing <- aggr(hmcare_sc12, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcare_sc12),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
load("C:/Users/hedgi/Google Drive/Uni/Multimorb PhD/Analysis/soc_care_open_data/Import and Wrangle/all_objects.RData")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(cache = TRUE)
library(dplyr)
library(mice)
library(VIM)
apply(alldata, 2, missing)
apply(hmcare_alldata, 2, missing)
hmcare_allmissing <- aggr(hmcare_alldata, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcare_alldata), cex.lab=1.5, cex.axis=0.6,
gap=3, digits = 2, bars = FALSE, ylab=c("Pattern"))
apply(hmcare_alldata, 2, missing)
apply(nohmcare_alldata, 2, missing)
apply(hmcare_alldata, 2, missing)
hmcare_alldata_missing <- aggr(hmcare_alldata, col=c('navyblue','red'), combined = TRUE,
numbers=TRUE, prop = FALSE, sortVars=TRUE,
labels=names(hmcare_alldata),
cex.axis=.7, gap=3, digits = 2, bars = FALSE,
ylab=c("Pattern of missing data"))
